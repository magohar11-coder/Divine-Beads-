<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Divine Beads - M.A. Gohar</title>
    <meta name="theme-color" content="#030a16">
    <style>
        :root {
            --app-bg: #030a16;
            --card-bg: radial-gradient(circle, #0a192f 0%, #02060c 100%);
            --gold-glow: #f3ba2f;
            --bead-color: #ffd700;
            --text-gray: #94a3b8;
            --neon-border: #00d2ff;
        }

        body {
            margin: 0; padding: 0;
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; background-color: var(--app-bg);
            font-family: 'Segoe UI', sans-serif; color: white;
            user-select: none; overflow: hidden;
        }

        @keyframes neonBorderGlow {
            0% { border-color: #00d2ff; box-shadow: 0 0 20px #00d2ff, inset 0 0 10px #00d2ff; }
            33% { border-color: #f3ba2f; box-shadow: 0 0 25px #f3ba2f, inset 0 0 10px #f3ba2f; }
            66% { border-color: #ff00ff; box-shadow: 0 0 25px #ff00ff, inset 0 0 10px #ff00ff; }
            100% { border-color: #00d2ff; box-shadow: 0 0 20px #00d2ff, inset 0 0 10px #00d2ff; }
        }

        @keyframes buttonPulse {
            0% { border-color: rgba(0, 210, 255, 0.5); box-shadow: 0 0 5px rgba(0, 210, 255, 0.2); }
            50% { border-color: var(--gold-glow); box-shadow: 0 0 15px var(--gold-glow); }
            100% { border-color: rgba(0, 210, 255, 0.5); box-shadow: 0 0 5px rgba(0, 210, 255, 0.2); }
        }

        /* AUTO-FIT PHONE FRAME */
        .phone-frame {
            background: var(--card-bg);
            width: 90vw; 
            max-width: 340px;
            height: 92vh;
            max-height: 700px;
            padding: 20px 15px;
            border-radius: 40px; 
            text-align: center;
            position: relative; 
            border: 6px solid #1e293b; 
            animation: neonBorderGlow 5s linear infinite;
            display: flex;
            flex-direction: column;
            justify-content: space-around; /* Elements ke beech gap auto-adjust hoga */
            box-sizing: border-box;
        }

        /* TOP BUTTONS RESPONSIVE */
        .top-container { display: flex; justify-content: space-between; align-items: center; padding: 0 5px; }
        .side-btn { 
            background: rgba(255,255,255,0.05); 
            border: 1px solid rgba(255,255,255,0.1);
            color: white; padding: 8px 12px; border-radius: 12px; font-size: 0.65rem; cursor: pointer;
            animation: buttonPulse 3s infinite ease-in-out;
        }

        
        .volume-control input { width: 80px; accent-color: var(--gold-glow); }

        .header-stats { display: flex; justify-content: space-between; padding: 0 10px; font-size: 0.85rem; color: var(--text-gray); }
        
        /* RING SIZE AUTO-ADJUST */
        .ring-container {
            position: relative; 
            width: 180px; 
            height: 180px; 
            margin: 5px auto;
            display: flex; justify-content: center; align-items: center;
        }

        .bead {
            position: absolute; width: 10px; height: 10px;
            background: radial-gradient(circle at 30% 30%, #fff, var(--bead-color));
            border-radius: 50%; left: 50%; top: 0; transform-origin: 50% 90px;
        }

        .total-display { font-size: 3.5rem; font-weight: 100; margin: 0; z-index: 10; color: #fff; }

        /* MAIN BUTTON RESPONSIVE */
        .dhikr-btn {
            width: 120px; height: 120px; border-radius: 50%; border: 4px solid rgba(255,255,255,0.1);
            background: radial-gradient(circle at 35% 35%, #fcd34d 0%, #b28924 100%);
            box-shadow: 0 10px 25px rgba(0,0,0,0.6);
            cursor: pointer; display: flex; justify-content: center; align-items: center; 
            margin: 5px auto; outline: none; flex-shrink: 0;
        }

        /* Responsive Fix for Small Screens */
        @media (max-height: 600px) {
            .app-title { font-size: 0.9rem; }
            .ring-container { width: 150px; height: 150px; }
            .bead { transform-origin: 50% 75px; }
            .dhikr-btn { width: 100px; height: 100px; }
            .total-display { font-size: 2.5rem; }
        }
    </style>
</head>
<body>

    <div class="phone-frame">
        <div class="top-container">
            <button class="side-btn" onclick="reset()">RESET</button>
            <button class="side-btn" onclick="setGoal()">TARGET</button>
        </div>

        <div class="branding-header">
            <Font SIZE="5">DIVINE BEADS</font>
          <p>  <font size="5">Ù¾Ø§Ú© ØªØ³Ø¨ÛŒØ­</font></p>
          <p> <b><font size="4">Powered By M.A.Gohar</b>
        </div>

        <marquee>Sadaqah-e-Jariyah: Share App And earn the Reward till the time of Qayamah; this is 100% secure App No Adult Ads | 100% Family & Child Safe ! you don't need to give its any phone's Permission |follow us on Instagram: (goha.r7776) or Email us dialanddeal78@gmail.com for more info</marquee>

        <div class="volume-control">
            <span style="font-size: 0.6rem;">ðŸ”ˆ</span>
            <input type="range" id="volSlider" min="0" max="1" step="0.1" value="0.5">
            <span style="font-size: 0.6rem;">ðŸ”Š</span>
        </div>

        <div class="header-stats">
            <div class="stat-col" style="text-align: left;">
                <span>Today: <b id="todayCount" style="color:#fff">0</b></span>
                <div class="side-btn" id="soundBtn" onclick="toggleSound()" style="padding: 3px 6px; margin-top: 5px;">ðŸ”Š On</div>
            </div>
            <div class="stat-col" style="text-align: right;">
                <span>Target: <b id="targetLabel" style="color:#fff">100</b></span>
                <div class="side-btn" onclick="shareApp()" style="padding: 3px 6px; margin-top: 5px;">ðŸ”— Share</div>
            </div>
        </div>

        <div class="ring-container">
            <div class="mala-beads-wrap" id="malaWrap" style="position: absolute; width: 100%; height: 100%; transition: transform 0.3s;"></div>
            <h1 class="total-display" id="mainCounter">0</h1>
        </div>

        <button class="dhikr-btn" id="tapBtn">
            <span style="font-size: 1rem; color: #4a3700; font-weight: 900;">PRESS</span>
        </button>
    </div>

    <script>
        let count = parseInt(localStorage.getItem('mag_count')) || 0;
        let goal = parseInt(localStorage.getItem('mag_goal')) || 100;
        let isMuted = localStorage.getItem('mag_mute') === 'true';
        let appVolume = parseFloat(localStorage.getItem('mag_vol')) || 0.5;

        const mainDisplay = document.getElementById('mainCounter');
        const volSlider = document.getElementById('volSlider');
        volSlider.value = appVolume;

        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        
        function playTargetAlert() {
            if (isMuted) return;
            const playSound = () => {
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                osc.connect(gain);
                gain.connect(audioCtx.destination);
                osc.frequency.setValueAtTime(880, audioCtx.currentTime); 
                gain.gain.setValueAtTime(appVolume, audioCtx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 1);
                osc.start();
                osc.stop(audioCtx.currentTime + 1);
            };
            playSound();
            setTimeout(playSound, 1100);
            if (navigator.vibrate) {
                navigator.vibrate([400, 200, 400, 200, 400]); 
            }
        }

        function updateUI() {
            mainDisplay.innerText = count;
            document.getElementById('todayCount').innerText = count;
            document.getElementById('targetLabel').innerText = goal;
            document.getElementById('malaWrap').style.transform = `rotate(-${count * (360/33)}deg)`;
            if (count === goal && count !== 0) {
                playTargetAlert();
                mainDisplay.style.color = "var(--gold-glow)";
            } else {
                mainDisplay.style.color = "#fff";
            }
            localStorage.setItem('mag_count', count);
        }

        volSlider.oninput = () => {
            appVolume = volSlider.value;
            localStorage.setItem('mag_vol', appVolume);
        };

        function toggleSound() {
            isMuted = !isMuted;
            localStorage.setItem('mag_mute', isMuted);
            document.getElementById('soundBtn').innerText = isMuted ? 'ðŸ”‡ Off' : 'ðŸ”Š On';
        }

        function shareApp() {
            const text = `Divine Beads App: ${window.location.href}\nSadaqah-e-Jariyah!`;
            window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');
        }

        document.getElementById('tapBtn').onclick = () => {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            count++; updateUI();
        };

        function reset() { if(confirm("Reset Count?")) { count = 0; updateUI(); } }
        function setGoal() { 
            let g = prompt("Set Target:", goal); 
            if(g) { goal = parseInt(g); updateUI(); localStorage.setItem('mag_goal', goal); } 
        }

        const malaWrap = document.getElementById('malaWrap');
        for (let i = 0; i < 33; i++) {
            const b = document.createElement('div');
            b.className = 'bead';
            b.style.transform = `translateX(-50%) rotate(${i * (360/33)}deg)`;
            malaWrap.appendChild(b);
        }
        updateUI();
    </script>
</body>
</html>

